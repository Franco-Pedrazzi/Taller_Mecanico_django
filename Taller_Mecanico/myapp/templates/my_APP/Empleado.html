<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Cliente</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        h1 {
            font-size: 24px;
        }
        form {
            display: none;
            margin-top: 15px;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 10px;
        }
        input, select {
            display: block;
            margin: 8px 0;
            padding: 6px;
            width: 100%;
            max-width: 300px;
        }
        button {
            margin-top: 10px;
        }
        table {
            border-collapse: collapse;
            margin-top: 20px;
            width: 100%;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #eee;
        }
        .acciones button {
            margin-right: 5px;
        }
    </style>
</head>
<body>

    <h1>Cliente</h1>

    <button id="btnAgregar">Agregar Cliente</button>

    <form id="formCliente">
        <input type="hidden" id="modo" value="">
        <label>DNI:</label>
        <input type="text" id="dni" required>

        <label>Nombre:</label>
        <input type="text" id="nombre" required>

        <label>Apellido:</label>
        <input type="text" id="apellido" required>

        <label>Tel√©fono:</label>
        <input type="text" id="telefono">

        <label>Direcci√≥n:</label>
        <input type="text" id="direccion">

        <button type="submit" id="guardar">Guardar</button>
        <button type="button" id="cancelar">Cancelar</button>
    </form>

    <hr>

    <label for="filtro">Filtro:</label>
    <input type="text" id="filtro" placeholder="Buscar por nombre o DNI">
    <button id="btnFiltrar">üîç</button>

    <table id="tablaClientes">
        <thead>
            <tr>
                <th></th>
                <th>ID</th>
                <th>DNI</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Tel√©fono</th>
                <th>Direcci√≥n</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <script>
        let clientes = [
            [1, "12345678", "Juan", "P√©rez", "1111-2222", "Av. Siempre Viva 742"],
            [2, "87654321", "Ana", "L√≥pez", "3333-4444", "Calle Falsa 123"]
        ];
        let modoEdicion = false;
        let clienteSeleccionado = null;

        const form = document.getElementById('formCliente');
        const tabla = document.querySelector('#tablaClientes tbody');
        const filtro = document.getElementById('filtro');

        function cargarTabla(datos = clientes) {
            tabla.innerHTML = '';
            datos.forEach(c => {
                const fila = document.createElement('tr');
                fila.innerHTML = `
                    <td><input type="checkbox"></td>
                    <td>${c[0]}</td>
                    <td>${c[1]}</td>
                    <td>${c[2]}</td>
                    <td>${c[3]}</td>
                    <td>${c[4]}</td>
                    <td>${c[5]}</td>
                    <td class="acciones">
                        <button onclick="editarCliente(${c[0]})">‚úèÔ∏è</button>
                        <button onclick="eliminarCliente(${c[0]})">üóëÔ∏è</button>
                    </td>
                `;
                tabla.appendChild(fila);
            });
        }

        function mostrarFormulario(cliente = null) {
            form.style.display = "block";
            if (cliente) {
                document.getElementById('dni').value = cliente[1];
                document.getElementById('nombre').value = cliente[2];
                document.getElementById('apellido').value = cliente[3];
                document.getElementById('telefono').value = cliente[4];
                document.getElementById('direccion').value = cliente[5];
                document.getElementById('modo').value = "editar";
                clienteSeleccionado = cliente;
            } else {
                form.reset();
                document.getElementById('modo').value = "";
                clienteSeleccionado = null;
            }
        }

        function ocultarFormulario() {
            form.style.display = "none";
        }

        function filtrarTabla() {
            const valor = filtro.value.toLowerCase();
            const filtrados = clientes.filter(c =>
                c[1].includes(valor) || c[2].toLowerCase().includes(valor)
            );
            cargarTabla(filtrados);
        }

        function editarCliente(id) {
            const cliente = clientes.find(c => c[0] === id);
            mostrarFormulario(cliente);
        }

        function eliminarCliente(id) {
            clientes = clientes.filter(c => c[0] !== id);
            cargarTabla();
        }

        form.addEventListener('submit', e => {
            e.preventDefault();
            const dni = document.getElementById('dni').value;
            const nombre = document.getElementById('nombre').value;
            const apellido = document.getElementById('apellido').value;
            const telefono = document.getElementById('telefono').value;
            const direccion = document.getElementById('direccion').value;
            const modo = document.getElementById('modo').value;

            if (modo === "editar") {
                clienteSeleccionado[1] = dni;
                clienteSeleccionado[2] = nombre;
                clienteSeleccionado[3] = apellido;
                clienteSeleccionado[4] = telefono;
                clienteSeleccionado[5] = direccion;
            } else {
                const nuevoId = clientes.length ? clientes[clientes.length - 1][0] + 1 : 1;
                clientes.push([nuevoId, dni, nombre, apellido, telefono, direccion]);
            }
            ocultarFormulario();
            cargarTabla();
        });

        document.getElementById('cancelar').onclick = ocultarFormulario;
        document.getElementById('btnAgregar').onclick = () => mostrarFormulario();
        document.getElementById('btnFiltrar').onclick = filtrarTabla;

        cargarTabla();
    </script>

</body>
</html>
